<html class="no-js" lang="zxx">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">    
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="manifest" href="site.webmanifest">
  <link rel="shortcut icon" type="../static/img/logo" href="../static/img/logo/logo_short.png">
  
  <title>Flood Safe Home</title>
      <!-- CSS here -->
      
    <link rel="stylesheet" href="static/css/bootstrap.min.css">
    <link rel="stylesheet" href="static/css/owl.carousel.min.css">
    <link rel="stylesheet" href="static/css/slicknav.css">
    <link rel="stylesheet" href="static/css/flaticon.css">
    <link rel="stylesheet" href="static/css/progressbar_barfiller.css">
    <link rel="stylesheet" href="static/css/gijgo.css">
    <link rel="stylesheet" href="static/css/animate.min.css">
    <link rel="stylesheet" href="static/css/animated-headline.css">
    <link rel="stylesheet" href="static/css/magnific-popup.css">
    <link rel="stylesheet" href="static/css/fontawesome-all.min.css">
    <link rel="stylesheet" href="static/css/themify-icons.css">
    <link rel="stylesheet" href="static/css/slick.css">
    <link rel="stylesheet" href="static/css/nice-select.css">
    <link rel="stylesheet" href="../static/css/style.css">
    <script src="static/js/modernizr.js"></script> 
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <link rel="stylesheet" href="https://js.arcgis.com/4.17/esri/themes/light/main.css">
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <script src="https://js.arcgis.com/4.17/"></script>
    <script src="https://cdn.zingchart.com/zingchart.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    
    <!--Add field-->
    <script type="text/javascript">
    $(document).ready(function(){
      //Input fields increment limitation
        var maxField = 10; 
        var addButton = $('.add_button'); 
        var wrapper = $('.field_wrapper'); 
        var fieldHTML = '<div> <input type="text" name="field_name[]" value="" placeholder="Type your address" required/> <a href="javascript:void(0);" class="remove_button"> &nbsp; <img src="../static/img/logo/minus_icon.png"/></a></div>'; //New input field html 
        var x = 1; //Initial field counter is 1
        
        //Once add button is clicked and maxField is smaller than x, increment field counter
        $(addButton).click(function(){
            if(x < maxField){ 
                x++; 
                $(wrapper).append(fieldHTML); 
            }
        });
        
        //Once remove button is clicked, remove the field html
        $(wrapper).on('click', '.remove_button', function(e){
            e.preventDefault();
            $(this).parent('div').remove();
            x--; 
        });
    });
    </script>


{% load humanize %}
<!--ArcGIS API-->
<script>
       require(["esri/WebMap",
        "esri/widgets/Sketch", 
        "esri/widgets/Sketch/SketchViewModel",
        "esri/geometry/Polyline",
        "esri/geometry/Point",
        "esri/Graphic",
        "esri/layers/GraphicsLayer",          
        "esri/views/MapView",
        "esri/layers/FeatureLayer",        
        "esri/geometry/geometryEngine",
        "esri/widgets/Search",
        "esri/widgets/LayerList",
        "esri/widgets/Legend",
        "esri/widgets/Expand",
        "dgrid/OnDemandGrid",        
        "esri/core/watchUtils",
        "esri/widgets/BasemapToggle",
        "esri/Map", 
        "esri/layers/GraphicsLayer",        
        "esri/views/MapView"], 
        function(
        WebMap,
        Sketch, 
        SketchViewModel,
        Polyline,
        Point,
        Graphic,
        GraphicsLayer,
        MapView,
        FeatureLayer,         
        geometryEngine,
        Search, 
        LayerList, 
        Legend, 
        Expand,
        OnDemandGrid,         
        watchUtils,
        BasemapToggle,
        Map,
        GraphicsLayer
        
      ) {
        // App 'globals'
        let sketchViewModel, featureLayerView, pausableWatchHandle;

        let centerGraphic,
          edgeGraphic,
          polylineGraphic,
          bufferGraphic,
          centerGeometryAtStart,
          labelGraphic;

        const unit = "miles";

        // Create layers
        const graphicsLayer = new GraphicsLayer();
        const bufferLayer = new GraphicsLayer({
          blendMode: "color-burn"
        });

        const featureLayer = new FeatureLayer({
          portalItem: {
            id: "7c5c929792414853b79aed972ca3e65a"
           // id: "d61a90015054449484e1bd332a3b75e2" for FloodSafeHome
          }
        });

        // Create map
        const webmap = new WebMap({
          basemap: "gray-vector",
          layers: [featureLayer, bufferLayer, graphicsLayer]
        });
        
        /************************************************************
         * Set the WebMap instance to the map property in a MapView.
         ************************************************************/
        var view = new MapView({
          map: webmap,
          container: "viewDiv",
          zoom: 11,
          center: [-90.1446649, 30.0017509]
        });
      
        // Add the feature layer to search the location based on the address
        var featureLayerAddress = new FeatureLayer({
          url:
            "https://services2.arcgis.com/njxlOVQKvDzk10uN/arcgis/rest/services/ADDRESS/FeatureServer",
          popupTemplate: {
            // autocasts as new PopupTemplate()
            title: "{FullAddress}",
            overwriteActions: true
          }
        });

         // Add the feature layer to search the location based on the parcel
        var featureLayerParcel = new FeatureLayer({
          url:
            "https://services2.arcgis.com/njxlOVQKvDzk10uN/arcgis/rest/services/PARCEL/FeatureServer",
          popupTemplate: {
            // autocasts as new PopupTemplate()
            title: "Parcel ID is {SITE_ID}",
            overwriteActions: true
          }
        });
        
            // Search widget start
        var searchWidget = new Search({
          view: view,
          allPlaceholder:"Type your address or parcel ID", //"type an address",//,
          //value:{{location|safe}},
          sources: [
            {
              layer: featureLayerAddress,         // Search by address
              searchFields:  ["FullAddress"],
              displayField: "FullAddress",
              exactMatch: false,
              outFields: ["FullAddress"],
              placeholder: "example: 1107 LAIR AVE",
              name: "Address",
              zoomScale: 500,
              resultSymbol: {
                r: 178,
                g: 34,
                b: 34,
                a: 0.7
              }
            },

            {
              layer: featureLayerParcel,         // Search by parcel
              searchFields: ["SITE_ID"],
              displayField: "SITE_ID",
              exactMatch: false,
              outFields: ["SITE_ID"],
              name: "Parcel",
              placeholder: "example: M-1686"
            }
          ]

    });

        // Add the search widget to the top left corner of the view
        view.ui.add(searchWidget, {
          position: "top-right"
        });
           // Get the value from the input box
        console.log(document.getElementById("submitButton"))
        document.getElementById("submitButton").onclick = (e)=> {
          e.preventDefault()
          let el = document.getElementById("tags")
          console.log(el.value)
          searchWidget.search(el.value).then((result)=> {
            console.log("result", result)
          })
        }

        // Search widget end

      
      // Add sketch tool
        const layer = new GraphicsLayer();

        const sketch = new Sketch({
          layer: layer,
          view: view,
          // graphic will be selected as soon as it is created
          creationMode: "update"
        });

        view.ui.add(sketch, "top-right");

        // Add a legend to the panel of a
        // ListItem in a LayerList 
        const layerList = new LayerList({
          view: view,
          listItemCreatedFunction: function (event) {
            const item = event.item;
{% comment %}             if (item.layer.type != "group") {
              // don't show legend twice
              item.panel = {
                content: "legend",
                open: false
              };
            } {% endcomment %}
          }
        });
        view.ui.add(layerList, "top-right");

        //Basemap toggle
        var toggle = new BasemapToggle({
          view: view, // view that provides access to the map's 'topo-vector' basemap
          nextBasemap: "hybrid" // allows for toggling to the 'hybrid' basemap
        });

        // Add widget to the bottom right corner of the view
        view.ui.add(toggle, "bottom-right");
        

        // Update UI
        setUpAppUI();
        setUpSketch();

        function setUpAppUI() {
          // When layer is loaded, create a watcher to trigger drawing of the buffer polygon
          view.whenLayerView(featureLayer).then(function (layerView) {
            featureLayerView = layerView;

            pausableWatchHandle = watchUtils.pausable(
              layerView,
              "updating",
              function (val) {
                if (!val) {
                  drawBufferPolygon();
                }
              }
            );

            // Display directions when the layerView is loading
            watchUtils.whenFalseOnce(layerView, "updating", function () {
              view.popup.open({
                title: "Center point",
                content:
                  "Drag this point to move the buffer.<br/> " +
                  "Or drag the <b>Edge</b> point to resize the buffer.",
                location: centerGraphic.geometry
              });
              view.popup.alignment = "top-left";
            });
          });

          // Close the 'help' popup when view is focused
          view.watch("focused", function (newValue) {
            if (newValue) {
              view.popup.close();
            }
          });
        }

        /*****************************************************************
         * Create SketchViewModel and wire up event listeners
         *****************************************************************/
        function setUpSketch() {
          sketchViewModel = new SketchViewModel({
            view: view,
            layer: graphicsLayer
          });


          // is updated as the graphics are updated
          sketchViewModel.on("update", onMove);
        }

        /*********************************************************************
         * Edge or center graphics are being moved. Recalculate the buffer with
         * updated geometry information and run the query stats again.
         *********************************************************************/
        function onMove(event) {
          // If the edge graphic is moving, keep the center graphic
          // at its initial location. Only move edge graphic
          if (
            event.toolEventInfo &&
            event.toolEventInfo.mover.attributes.edge
          ) {
            const toolType = event.toolEventInfo.type;
            if (toolType === "move-start") {
              centerGeometryAtStart = centerGraphic.geometry;
            }
            // keep the center graphic at its initial location when edge point is moving
            else if (toolType === "move" || toolType === "move-stop") {
              centerGraphic.geometry = centerGeometryAtStart;
            }
          }

          // the center or edge graphic is being moved, recalculate the buffer
          const vertices = [
            [centerGraphic.geometry.x, centerGraphic.geometry.y],
            [edgeGraphic.geometry.x, edgeGraphic.geometry.y]
          ];

          // client-side stats query of features that intersect the buffer
          calculateBuffer(vertices);

          // user is clicking on the view... call update method with the center and edge graphics
          if (event.state === "complete") {
            sketchViewModel.update([edgeGraphic, centerGraphic], {
              tool: "move"
            });
          }
        }

        /*********************************************************************
         * Edge or center point is being updated. Recalculate the buffer with
         * updated geometry information.
         *********************************************************************/
        function calculateBuffer(vertices) {
          // Update the geometry of the polyline based on location of edge and center points
          polylineGraphic.geometry = new Polyline({
            paths: vertices,
            spatialReference: view.spatialReference
          });

          // Recalculate the polyline length and buffer polygon
          const length = geometryEngine.geodesicLength(
            polylineGraphic.geometry,
            unit
          );
          const buffer = geometryEngine.geodesicBuffer(
            centerGraphic.geometry,
            length,
            unit
          );

          // Update the buffer polygon
          bufferGraphic.geometry = buffer;

          // Query female and male age groups of the census tracts that intersect
          // the buffer polygon on the client
         

          // Update label graphic to show the length of the polyline
          labelGraphic.geometry = edgeGraphic.geometry;
          labelGraphic.symbol = {
            type: "text",
            color: "#3d53fc",
            text: length.toFixed(2) + " miles",
            xoffset: 50,
            yoffset: 10,
            font: {
              // autocast as Font
              size: 14,
              family: "sans-serif"
            }
          };
        }

       
        /***************************************************
         * Draw the buffer polygon when application loads or
         * when user searches for a new location
         **************************************************/
        function drawBufferPolygon() {
          // When pause() is called on the watch handle, the callback represented by the
          // watch is no longer invoked, but is still available for later use
          // this watch handle will be resumed when user searches for a new location
          pausableWatchHandle.pause();

          // Initial location for the center, edge and polylines on the view
          const viewCenter = view.center.clone();
          const centerScreenPoint = view.toScreen(viewCenter);
          const centerPoint = view.toMap({
            x: centerScreenPoint.x + 20,
            y: centerScreenPoint.y - 20
          });
          const edgePoint = view.toMap({
            x: centerScreenPoint.x + 160,
            y: centerScreenPoint.y - 20
          });

          // Store updated vertices
          const vertices = [
            [centerPoint.x, centerPoint.y],
            [edgePoint.x, edgePoint.y]
          ];

          // Create center, edge, polyline and buffer graphics for the first time
          if (!centerGraphic) {
            const polyline = new Polyline({
              paths: vertices,
              spatialReference: view.spatialReference
            });

            // get the length of the initial polyline and create buffer
            const length = geometryEngine.geodesicLength(polyline, unit);
            const buffer = geometryEngine.geodesicBuffer(
              centerPoint,
              length,
              unit
            );

            // Create the graphics representing the line and buffer
            const pointSymbol = {
              type: "simple-marker",
              style: "circle",
              size: 10,
              color: [0, 255, 255, 0.5]
            };
            centerGraphic = new Graphic({
              geometry: centerPoint,
              symbol: pointSymbol,
              attributes: {
                center: "center"
              }
            });

            edgeGraphic = new Graphic({
              geometry: edgePoint,
              symbol: pointSymbol,
              attributes: {
                edge: "edge"
              }
            });

            polylineGraphic = new Graphic({
              geometry: polyline,
              symbol: {
                type: "simple-line",
                color: "[254, 254, 254, 1]",
                width: 2.5
              }
            });

            bufferGraphic = new Graphic({
              geometry: buffer,
              symbol: {
                type: "simple-fill",
                color: [150, 150, 150],
                outline: {
                  color: "#3d53fc",
                  width: 2
                }
              }
            });
            labelGraphic = labelLength(edgePoint, length);

            // Add graphics to layer
            graphicsLayer.addMany([
              centerGraphic,
              edgeGraphic,
              polylineGraphic,
              labelGraphic
            ]);
            // once center and edge point graphics are added to the layer,
            // call sketch's update method pass in the graphics so that users
            // can just drag these graphics to adjust the buffer
            setTimeout(function () {
              sketchViewModel.update([edgeGraphic, centerGraphic], {
                tool: "move"
              });
            }, 1000);

            bufferLayer.addMany([bufferGraphic]);
          }
          // Move the center and edge graphics to the new location returned from search
          else {
            centerGraphic.geometry = centerPoint;
            edgeGraphic.geometry = edgePoint;
          }

          // Query features that intersect the buffer
          calculateBuffer(vertices);
        }

      
        // Label polyline with its length
        function labelLength(geom, length) {
          return new Graphic({
            geometry: geom,
            symbol: {
              type: "text",
              color: "#FFEB00",
              text: length.toFixed(2) + " Miles",
              xoffset: 50,
              yoffset: 10,
              font: {
                // autocast as Font
                size: 14,
                family: "sans-serif"
              }
            }
          });
        }
      });
  </script>
</head>

<body>

     <header class="header header-map">
        <!-- Header Start -->
        <div class="header-area header-transparent mapHeader">
            <div class="main-header ">
                <div class="header-bottom  header-sticky">
                    <div class="container-fluid">
                        <div class="row align-items-center">
                            <!-- Logo -->
                            <div class="col-xl-2 col-lg-2">
                                <div class="logo">
                                    <a href="/"><img src="static/img/logo/logo.png" alt=""></a>
                                </div>
                            </div>
                            <div class="col-xl-10 col-lg-10">
                                <div class="menu-wrapper  d-flex align-items-center justify-content-end">
                                    <!-- Main-menu -->
                                    <div class="main-menu d-none d-lg-block">
                                        <nav>
                                            <ul id="navigation">
                                                <li><a href="/">Home</a></li>
                                                
                                                <li><a href="/map"><b>Decision Making Map</b></a></li>
                                                <li><a href="/helpcenter">Help Center</a></li>
                                            </ul>
                                        </nav>
                                    </div>
                                </div>
                            </div>
                            <!-- Mobile Menu -->
                            <div class="col-12">
                                <div class="mobile_menu d-block d-lg-none"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Header End -->
    </header>

  <!-- autosuggestion-->
   

    <script> 
    jQuery.noConflict();
    jQuery(function ($) {    
    
    $( "#tags" ).autocomplete({
      source: "{% url 'autosuggest' %}"
        });
     } );
    </script>
   <!--autosuggestion End-->

 <!-- Select your building information-->
 <div class="container left"> 
      <form method="get" action="/search">
            {% csrf_token %} 
      <p> 
        <h2 class ="map-style-sidebar-title"><b class="map-style-sidebar-b"> Building Information</b></h2> 
          <div class="box">
         
              <!--User type-->
              <label> <b class="map-style"> User Type <sup class="sup">*</sup> </b></label><br>
                <label for="chkYes"><input type="radio" name ="chk" id="chkYes" value = "homeowner" class="bar" required onclick="ShowHideDiv()"/> Homeowner</label>
                <label for="chkNo"><input type="radio" name ="chk" id="chkNo" value = "community-official" class="margin2" onclick="ShowHideDiv()"/> Community official</label>
              
              <!--Building type-->
              <div id="dvPassport" style="display: none">
                <label><b class="map-style">Building Type <sup class="sup">*</sup></b></label><br>
                  <label><input type="radio" name ="selectBox" value = "new_building" class="bar" required> New building</label>
                  <label><input type="radio" name ="selectBox" value = "existing_building" class="bar"> Existing building</label>
                
                <!--Address or Parcel ID-->
                <label><b class="map-style">Address or Parcel ID <sup class="sup">*</sup></b></label><br>
                  <input type="text"  name="location"  id="tags" placeholder="Type your address or parceID"  class="text" required value={{location|safe}} > <br>
                
                <!--Square footage-->
                <label><b class="map-style">Square footage <sup class="sup">*</sup></b> </label><br>
                  <input type="text"  name="sqft"  id="sqft" placeholder="Type your building's square footage"  class="text" required> <br>
               
               <!--Number of Stories -->        
                <label> <b class="map-style">Number of Stories <sup class="sup">*</sup> </b> </label><br>
                  <label><input type="radio" name ="stories" id="stories" value = "1" class="bar" required> One story</label>
                  <label><input type="radio" name ="stories" id="stories" value = "2" class="bar"> Two or more stories</label>
              </div>

              <!--This option will be appear when user select community official-->
              <div id="as" style="display: none">
                <label> <b class="map-style"> Assessment Scale <sup class="sup">*</sup> </b></label><br>
                  <label for="chkYes2"><input type="radio" name ="as" id="chkYes2" value = "single-building" class="bar" data-require-pair="#chkNo" onclick="ShowHideDiv2()">
                  Single-building</label>
                  <label for="chkNo2"><input type="radio" name ="as" id="chkNo2" value = "spatial-scale" class="margin1" onclick="ShowHideDiv2()">
                  Spatial Scale</label>
             

                    <!--This option will be appear when user select single-building-->
                    <div id="singleBuilding" style="display: none">
                     
                      <!--Select location for building location -->
                      <div class="select-form" style="margin: 0 0 0 30px">
                          <div class="select-itms">
                              <select name="select" id="select1">
                                  <option value="">Building Location</option>
                                  <option value=""> Address</option>
                                  <option value=""> Parcel</option>
                                  <option value=""> Zipcode </option>
                                  <option value=""> Subdivision</option>
                              </select>
                          </div>
                      </div>
                    
                <!--Average Building Size (Livable Square Footage) -->
                <label><b class="map-style"> Average Building Size (Livable Square Footage) <sup class="sup">*</sup></b> </label><br>
                  <input type="text"  name="sqft-average-building"  id="sqft-average-building" placeholder="Type average building's square footage"  class="text"> <br>


                <!--Number of Stories -->        
                <label> <b class="map-style">Number of Stories <sup class="sup">*</sup> </b> </label><br>
                  <label><input type="radio" name ="stories" id="stories" value = "1" class="bar"> One story</label>
                  <label><input type="radio" name ="stories" id="stories" value = "2" class="bar"> Two or more stories</label>

                <!--Freeboard height above the BFE -->   
                <label><b class="map-style"> Freeboard height above the BFE (in feet) <sup class="sup">*</sup></b> </label><br>
                  <input type="text"  name="freeboard-bfe"  id="freeboard-bfe" placeholder="Type targeted freeboard height above the Based Flood Elevation"  class="text"> <br>

                  <!--Current CRS rating -->                    
                <label><b class="map-style"> Select the <i>current</i> CRS rating <sup class="sup">*</sup></b> </label><br>              
                  <div class="select-form" >
                      <div class="select-itms">
                          <select name="select" id="select1">
                              <OPTION VALUE=""> CRS rate of 1, with a 45% discount </option>
                              <OPTION VALUE=""> CRS rate of 2, with a 40% discount </option>
                              <OPTION VALUE=""> CRS rate of 3, with a 35% discount </option>
                              <OPTION VALUE=""> CRS rate of 4, with a 30% discount </option>
                              <OPTION VALUE=""> CRS rate of 5, with a 25% discount </option>
                              <OPTION VALUE=""> CRS rate of 6, with a 20% discount </option>
                              <OPTION VALUE=""> CRS rate of 7, with a 15% discount </option>
                              <OPTION VALUE=""> CRS rate of 8, with a 10% discount </option>
                              <OPTION VALUE=""> CRS rate of 9, with a 5% discount </option>
                              <OPTION VALUE=""> CRS rate of 10, with a 0% discount </option>
                          </select>
                      </div>
                  </div>    

                <!--Targeted CRS rating -->  
                <label><b class="map-style"> Select the <i>targeted</i> CRS rating <sup class="sup">*</sup></b> </label><br>              
                  <div class="select-form" >
                    <div class="select-itms">
                        <select name="select" id="select1">
                            <OPTION VALUE=""> CRS rate of 1, with a 45% discount </option>
                            <OPTION VALUE=""> CRS rate of 2, with a 40% discount </option>
                            <OPTION VALUE=""> CRS rate of 3, with a 35% discount </option>
                            <OPTION VALUE=""> CRS rate of 4, with a 30% discount </option>
                            <OPTION VALUE=""> CRS rate of 5, with a 25% discount </option>
                            <OPTION VALUE=""> CRS rate of 6, with a 20% discount </option>
                            <OPTION VALUE=""> CRS rate of 7, with a 15% discount </option>
                            <OPTION VALUE=""> CRS rate of 8, with a 10% discount </option>
                            <OPTION VALUE=""> CRS rate of 9, with a 5% discount </option>
                            <OPTION VALUE=""> CRS rate of 10, with a 0% discount </option>
                        </select>
                    </div>
                </div>
          
                <!--Assessment Timeline--> 
                <label><b class="map-style"> Assessment Timeline <sup class="sup">*</sup></b> </label><br>              
                  <div class="select-form" >
                      <div class="select-itms">
                          <select name="select" id="select1">
                              <OPTION VALUE=""> 5 years </option>
                              <OPTION VALUE=""> 10 years </option>
                              <OPTION VALUE=""> 15 years </option>
                              <OPTION VALUE=""> 20 years </option>
                              <OPTION VALUE=""> 30 years </option>
                              <OPTION VALUE=""> 40 years </option>
                              <OPTION VALUE=""> 70 years </option>
                              <OPTION VALUE=""> 100 </option>
                          </select>
                      </div>
                  </div>     


                  <!--Select the appropriate real discount rate for the assessment-->
                  <label><b class="map-style"> Select the appropriate real discount rate for the assessment  <sup class="sup">*</sup></b> </label><br>              
                    <div class="select-form" >
                        <div class="select-itms">
                            <select name="select" id="select1">
                                <OPTION VALUE=""> Select 0% of real discount rate </option>
                                <OPTION VALUE=""> Select 3% of real discount rate</option>
                                <OPTION VALUE=""> Select 7% of real discount rate </option>
                                <OPTION VALUE=""> Select 10% of real discount rate </option>
                            </select>
                        </div>
                      </div>     
                    </div>

              <!-- This option will be appear when spatial scale is selected-->
              <div id="SpatialScale" style="display: none">
                <label> <b class="map-style"> Select area from the map  <sup class="sup">*</sup> </b></label><br>
                <i style="margin:0 0 0 30px">Please select area using a tool from the map or type address below.</i>
                
                <!--Add fields-->
                <label> <b class="map-style"> Type your address  <sup class="sup">*</sup> </b></label><br>
                <div class="field_wrapper">
                    <div>
                        <input type="text" name="field_name[]" value="" placeholder="Type your address" required/>
                        <a href="javascript:void(0);" class="add_button" title="Add field">  &nbsp; <img src="../static/img/logo/plus_icon.png"/></a>
                    </div>
                </div>

                <label><b class="map-style"> Average Building Size (Livable Square Footage) <sup class="sup">*</sup></b> </label><br>
                <input type="text"  name="sqft-average-building"  id="sqft-average-building" placeholder="Type average building's square footage"  class="text"> <br>

                <!-- Number of Stories -->        
                <label> <b class="map-style">Number of Stories <sup class="sup">*</sup> </b> </label><br>
                  <label><input type="radio" name ="stories" id="stories" value = "1" class="bar"> One story</label>
                  <label><input type="radio" name ="stories" id="stories" value = "2" class="bar"> Two or more stories</label>
                
                <!-- Freeboard height above the BFE -->   
                  <label><b class="map-style"> Freeboard height above the BFE (in feet) <sup class="sup">*</sup></b> </label><br>
                  <input type="text"  name="freeboard-bfe"  id="freeboard-bfe" placeholder="Type targeted freeboard height above the Based Flood Elevation"  class="text"> <br>
                
                
                  <!-- Current CRS rating -->  
                  <label><b class="map-style"> Select the <i>current</i> CRS rating <sup class="sup">*</sup></b> </label><br>              
                    <div class="select-form" >
                        <div class="select-itms">
                            <select name="select" id="select1">
                                <OPTION VALUE=""> CRS rate of 1, with a 45% discount </option>
                                <OPTION VALUE=""> CRS rate of 2, with a 40% discount </option>
                                <OPTION VALUE=""> CRS rate of 3, with a 35% discount </option>
                                <OPTION VALUE=""> CRS rate of 4, with a 30% discount </option>
                                <OPTION VALUE=""> CRS rate of 5, with a 25% discount </option>
                                <OPTION VALUE=""> CRS rate of 6, with a 20% discount </option>
                                <OPTION VALUE=""> CRS rate of 7, with a 15% discount </option>
                                <OPTION VALUE=""> CRS rate of 8, with a 10% discount </option>
                                <OPTION VALUE=""> CRS rate of 9, with a 5% discount </option>
                                <OPTION VALUE=""> CRS rate of 10, with a 0% discount </option>
                            </select>
                        </div>
                    </div>    
                  
                  <!-- Targeted CRS rating --> 
                  <label><b class="map-style"> Select the <i>targeted</i> CRS rating <sup class="sup">*</sup></b> </label><br>              
                    <div class="select-form" >
                        <div class="select-itms">
                            <select name="select" id="select1">
                                <OPTION VALUE=""> CRS rate of 1, with a 45% discount </option>
                                <OPTION VALUE=""> CRS rate of 2, with a 40% discount </option>
                                <OPTION VALUE=""> CRS rate of 3, with a 35% discount </option>
                                <OPTION VALUE=""> CRS rate of 4, with a 30% discount </option>
                                <OPTION VALUE=""> CRS rate of 5, with a 25% discount </option>
                                <OPTION VALUE=""> CRS rate of 6, with a 20% discount </option>
                                <OPTION VALUE=""> CRS rate of 7, with a 15% discount </option>
                                <OPTION VALUE=""> CRS rate of 8, with a 10% discount </option>
                                <OPTION VALUE=""> CRS rate of 9, with a 5% discount </option>
                                <OPTION VALUE=""> CRS rate of 10, with a 0% discount </option>
                            </select>
                        </div>
                    </div>
              
                <!-- Assessment Timeline -->
                <label><b class="map-style"> Assessment Timeline <sup class="sup">*</sup></b> </label><br>              
                  <div class="select-form" >
                      <div class="select-itms">
                          <select name="select" id="select1">
                              <OPTION VALUE=""> 5 years </option>
                              <OPTION VALUE=""> 10 years </option>
                              <OPTION VALUE=""> 15 years </option>
                              <OPTION VALUE=""> 20 years </option>
                              <OPTION VALUE=""> 30 years </option>
                              <OPTION VALUE=""> 40 years </option>
                              <OPTION VALUE=""> 70 years </option>
                              <OPTION VALUE=""> 100 </option>
                          </select>
                      </div>
                  </div>     

                <!-- Select the appropriate real discount rate for the assessment -->
                <label><b class="map-style"> Select the appropriate real discount rate for the assessment  <sup class="sup">*</sup></b> </label><br>              
                  <div class="select-form" >
                      <div class="select-itms">
                          <select name="select" id="select1">
                              <OPTION VALUE=""> Select 0% of real discount rate </option>
                              <OPTION VALUE=""> Select 3% of real discount rate</option>
                              <OPTION VALUE=""> Select 7% of real discount rate </option>
                              <OPTION VALUE=""> Select 10% of real discount rate </option>
                          </select>
                      </div>
                  </div>     
                </div>
            </div>
          </div>
      
      
        <br>
        &nbsp; &nbsp;  <button class="btn btn-primary" type="submit" > Get results</button>  
        &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
       <button class="btn btn-primary" type="submit" id="submitButton"> Show map</button>   
      </form>
      </p>
 <hr class="style-three">
 <!-- Select your building information end-->

 <!-- Side bar naviation menu-->
  <p>
    <h2 class ="map-style-sidebar-title"><b class="map-style-sidebar-b map">Freeboard Cost Analysis Report</b></h2>
    <nav class="nav">
      <ul class="box ul">
        <li class="li"><a class="sidemenu" href="#section-1">Summary</a><br>
        <li class="li"><a class="sidemenu" href="#section-6">Monthly Savings</a></li>
        <li class="li"><a class="sidemenu" href="#section-2">Freeboard Cost</a>
        <li class="li"><a class="sidemenu" href="#section-3">Annual Insurance Premiums</a></li>
        <li class="li"><a class="sidemenu" href="#section-4">Expected Annual Flood Loss</a></li>
        <li class="li"><a class="sidemenu" href="#section-5">Time to Recover the Freeboard Cost</a></li>
        <li class="li"><a class="sidemenu" href="#">Save as a PDF</a></li>
      </ul> 
    </nav>
  </p>
  
</div>
<!-- Side bar naviation menu end-->

<!-- Error message-->                                
  {% if messages %}
  {% for message in messages %}
  <div class="alert {{ message.tags }} alert-dismissible fade show my-0" role="alert">
    <strong>{{ message }}</strong>
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  {% endfor %}
  {% endif %}

<!-- Error message ends--> 

<!--ESRI Map-->
<div id = "pdf_wrap">
        <div id="viewDiv"><section id="section-1"></section>
        </div>

<!--Result details-->
<!--Summary-->
<div class="left2 section-tittle mb-40"> 
 <hr class="style-four">
  <h2>Freeboard Cost Analysis Report</h2>
        <div class="optimal map-style">For your home,  <b class="summary-b">{{OptimalFreeboard}} ft </b> </span> of freeboard is recommended<br>
          resulting in monthly savings of <b class="summary-b">${{OptimalSaving}} </b> </u></div> <br>
     <section id="section-6"> <div class="pricing" > 

      <div class="pricing-slider">
      
        <center><label class="form-slider" >
          <img id='img' src='static/img/construction/onefoot.png' class="pricing-slider-img"/><br><br>
          <center><div class="pricing-slider-value" ></div></center> <br>
          <datalist id="scale">
            <option>0</option>
            <option>1</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
          </datalist>
          <input onchange='setImage(this)'
            type="range"
            value="{{OptimalFreeboard}}"
            class="slider" id="myRange" list="scale"
            data-price-input='{
                "0": "0ft freeboard",
                "1": "1ft freeboard",
                "2": "2ft freeboard",
                "3": "3ft freeboard",
                "4": "4ft freeboard"                
              }'
          />
        </label></center>
        
      </div>

      
  <div  style=" display:inline-block; vertical-align: top; "  >
     
      <!--Monthly premium savings-->
      <div
        class="pricing-item-price" 
        data-price-output='{
          "0": ["$", {{monthly_premium_saving0}},""],
          "1": ["$", {{monthly_premium_saving1}},""],
          "2": ["$", {{monthly_premium_saving2}},""],
          "3": ["$", {{monthly_premium_saving3}},""],
          "4": ["$", {{monthly_premium_saving4}},""]
        }'
      >
    <p class="grid-style3 map-style"> When you add <b class="map-style b-summary-value2"> <span id="demo"> </span> ft</b> of  freeboard, </p>
    
    <div class="vl">  
      <p class="grid-style3 map-style" ><b class="b-summary-title map-style">Savings</b> <br>
        <b class="b-summary-value map-style">        
        <span class="pricing-item-price-currency">$</span><!-- 
     --><span class="pricing-item-price-amount">0</span><!-- 
     --><span class="pricing-item-price-after"></span> </b> insurance savings per month <img id='img' src='static/img/logo/blue_question.png' class="img-q"  title="Monthly Savinngs is the freeboard's monthly loan payment subtracted from the monthly premium savings of the freeboard added to its monthly flood loss reduction."/></p>
    
    <!--Flood loss-->
      <div
        class="pricing-item-price"
        data-price-output='{
          "0": ["$", {{monthly_avoided_loss0}},""],
          "1": ["$", {{monthly_avoided_loss1}},""],
          "2": ["$", {{monthly_avoided_loss2}},""],
          "3": ["$", {{monthly_avoided_loss3}},""],
          "4": ["$", {{monthly_avoided_loss4}},""]
        }'
      >
      <p class="grid-style3 map-style">
      <b class="b-summary-value map-style"> 
        <span class="pricing-item-price-currency">$</span><!-- 
     --><span class="pricing-item-price-amount">0</span><!-- 
     --><span class="pricing-item-price-after"></span> </b> reduction in expected flood losses per month <img id='img' src='static/img/logo/blue_question.png' class="img-q" title="Reduction In Flood Losses Per Month is the difference between the expected annual flood loss calculated for adding the freeboard and the expected annual  loss with no freeboard added divided by 12."/>
      </div>
    </div>    
   <br>

    <div class="vl"> 
      <!--amortized cost-->
        <div
        class="pricing-item-price"
        data-price-output='{
          "0": ["$",{{Amortized_FC0}},""],
          "1": ["$",{{Amortized_FC1}},""],
          "2": ["$",{{Amortized_FC2}},""],
          "3": ["$",{{Amortized_FC3}},""],
          "4": ["$",{{Amortized_FC4}},""]
        }'
      > 
      <p class="grid-style3 map-style" ><b class="b-summary-title map-style">Costs</b> <br>
      <b class="b-summary-value map-style">      
        <span class="pricing-item-price-currency">$</span><!-- 
     --><span class="pricing-item-price-amount">0</span><!-- 
     --><span class="pricing-item-price-after"></span> </b> amortized cost per month <img id='img' src='static/img/logo/blue_question.png' class="img-q" title=""/></p>
      </div>   

      <!--Freeboard cost-->
      {% load humanize %}
      <div
        class="pricing-item-price"
        data-price-output='{
          "0": ["$", {{FreeboardCost0}},""],
          "1": ["$", {{FreeboardCost1}},""],
          "2": ["$", {{FreeboardCost2}},""],
          "3": ["$", {{FreeboardCost3}},""],
          "4": ["$", {{FreeboardCost4}},""]
        }'
      >
      <!--Part of title...Freeboard cost is calculated as a total loan amount with 30-year term and 3% interest rate. The cost of the freeboard with no loan is $7490" --> 
      <p class="grid-style3 map-style b-summary-const">
         (based on <b class="map-style b-summary-value2">
        <span class="pricing-item-price-currency">$</span><!-- 
     --><span class="pricing-item-price-amount">0</span><!-- 
     --><span class="pricing-item-price-after"></span> </b>construction cost)  <img id='img' src='static/img/logo/blue_question.png' class="img-q" title="Freeboard Cost is the product of freeboard height and cost factor of (0.023) multiplied by the construction cost of the home. Freeboard cost is calculated as a total loan amount with 30-year term and 3% interest rate. The cost of the freeboard with no loan is $7490"/></p>
      </div>   
    </div><br>

    <div class="vl">       
      <div
        class="pricing-item-price"
        data-price-output='{
          "0": ["$", "{{total_savings_permonth_insurance0}}",""],
          "1": ["$", "{{total_savings_permonth_insurance1}}",""],
          "2": ["$", "{{total_savings_permonth_insurance2}}",""],
          "3": ["$", "{{total_savings_permonth_insurance3}}",""],
          "4": ["$", "{{total_savings_permonth_insurance4}}",""]
        }'
      >
      <p class="grid-style3 map-style"><b class="b-summary-title map-style">Total</b> <br>
      <b class="b-summary-value map-style">      
        <span class="pricing-item-price-currency">$</span><!-- 
     --><span class="pricing-item-price-amount">0</span><!-- 
     --><span class="pricing-item-price-after"></span> </b> savings per month (flood insurance only) <img id='img' src='static/img/logo/blue_question.png' class="img-q" title="Insurance savings per month is the difference between the annual premium calculated for adding the freeboard and the annual premium with no freeboard added divided by 12."/>
      </div>

       <!--Flood loss-->
      <div
        class="pricing-item-price"
        data-price-output='{
          "0": ["$", "{{total_monthly_saving0}}",""],
          "1": ["$", "{{total_monthly_saving1}}",""],
          "2": ["$", "{{total_monthly_saving2}}",""],
          "3": ["$", "{{total_monthly_saving3}}",""],
          "4": ["$", "{{total_monthly_saving4}}",""]
        }'
      >
      <p class="grid-style3 map-style">
      <b class="b-summary-value map-style"> 
        <span class="pricing-item-price-currency">$</span><!-- 
     --><span class="pricing-item-price-amount">0</span><!-- 
     --><span class="pricing-item-price-after"></span> </b> savings per month (flood insurance and flood loss reduction) <img id='img' src='static/img/logo/blue_question.png' class="img-q" title="Reduction In Flood Losses Per Month is the difference between the expected annual flood loss calculated for adding the freeboard and the expected annual  loss with no freeboard added divided by 12."/>
      </div>

      <!--Time to recover
      <div
        class="pricing-item-price"
        data-price-output='{
          "0": ["", {{time_to_recover_FC_MS0}},"month(s)"],
          "1": ["", {{time_to_recover_FC_MS1}},"month(s)"],
          "2": ["", {{time_to_recover_FC_MS2}},"month(s)"],
          "3": ["", {{time_to_recover_FC_MS3}},"month(s)"],
          "4": ["", {{time_to_recover_FC_MS4}},"month(s)"]
        }'
      >
      <p class="grid-style3 map-style">
      <b class="map-style b-summary-value2"> 
        <span class="pricing-item-price-currency">$</span>
      <span class="pricing-item-price-amount">0</span>
      <span class="pricing-item-price-after"></span> </b> time  to recover the elevation cost <img id='img' src='static/img/logo/blue_question.png' class="img-q"  title="Time To Recover The Cost is the Time required to offset the freeboard cost through the monthly savings."/>
      </div>-->

      <!-- Life time benefit
      <div
        class="pricing-item-price"
        data-price-output='{
          "0": ["$", {{netbenefit0}},""],
          "1": ["$", {{netbenefit1}},""],
          "2": ["$", {{netbenefit2}},""],
          "3": ["$", {{netbenefit3}},""],
          "4": ["$", {{netbenefit4}},""]
        }'
      >
      <p class="grid-style3" title="">| Lifetime benefits of the elevation <img id='img' src='static/img/logo/blue_question.png' class="img-q"/> : 
        <span class="pricing-item-price-currency"></span>
        <span class="pricing-item-price-amount">0</span>
        <span class="pricing-item-price-after">month(s)</span>
      </div> -->
      </div>
    </div>
    </div>
  </div></section><br><br><br>
</div>  

<!--Monthly saving-->
  <div class="left3 section-tittle-detail mb-40"> 
   <hr class="style-four">
     <h2 class="map-style-title" >Monthly Savings</h2>
      <div class="graph-description" >
        While the increase in your monthly mortgage payment for adding freeboard will be minor, the monthly savings are substantial, ranging from 
        <b class="map-style">${{total_monthly_saving1}}</b> to <b class="map-style">${{total_monthly_saving4}}</b>.
        <!--The optimal (maximum) monthly savings is ${{OptimalSaving | intcomma}} at freeboard height {{OptimalFreeboard}} ft.--> 
        </div>
      <div class="zc-body"><div id="chart5" class="chart5"></div><div class="bfe"><br>BFE stands for <b>Base Flood Elevation</b></div> 
    </div>
     
     <!-- 
        <b class="map-style" style="padding: 0px 63px 0px 0px;">Home square footage:</b>{{SquareFootage}}<br><br>
        <b class="map-style" style="padding: 0px 28px 0px 0px;">Flood insurance coverage:</b> 924,000 - Content  &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;<input type="range" id="js_amount_range_2" value="924000" min="0" max="100000"> <input type="number" id="js_amount_input_2" value="924000" min="0" max="100000" style="height:25px"></p>
        <p style="padding: 0px 0px 0px 230px;"  class="map-style">CRS rate is 5, with a 25% discount &nbsp; &nbsp;&nbsp; &nbsp; <input type="range" id="js_amount_range_2" value="25" min="1" max="45"> <input type="number" id="js_amount_input_2" value="25" min="1" max="45" style="height:25px"><br>
        <p style="padding: 0px 0px 0px 230px;"  class="map-style">CRS community rating</p> 
        <b class="map-style" style="padding: 0px 89px 0px 0px;">Number of stories:</b> {{No_Floors}}<br><br>
        <b class="map-style" style="padding: 0px 143px 0px 0px;">Flood zone:</b> {{floodzone}}<br><br>
        <b class="map-style">Expected occupancy timeline:</b>&nbsp;&nbsp;30 years   &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;  &nbsp;&nbsp; &nbsp;&nbsp;  &nbsp;&nbsp; &nbsp;&nbsp;  &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp;<input type="range" id="js_amount_range_1" value="30" min="0" max="100" > <input type="number" id="js_amount_input_1" value="15" min="0" max="100" style="height:25px"><br><br>
        <p style="padding: 0px 0px 0px 230px;" class="map-style">231,000 - Building &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;  &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp; <input type="range" id="js_amount_range_2" value="231000" min="0" max="250000"> <input type="number" id="js_amount_input_2" value="231000" min="0" max="250000" style="height:25px"></p>
        
        <canvas id="chart" width="400" height="150">Graph is not appeared. Will fix it soon.</canvas> <i>The graph is not displayed. Will fix it soon.</i><br><br><br><br>
        
      <section id="section-2"><p class=" map-style">
        The location entered is in a/an {{floodzone}} flood zone, and insurance not/is mandatory.<br>
        Maximum limits of $250,000 for building and $100,000 for content with deductible of $1,250. <br>
        The property is located in a community that is currently participating in the Community Rating System (CRS) discount. <br>
        The CRS rate is , with a ...% discount on flood insurance. 
      </p></section>
      <br><br>-->

  </div> 

<!--Freeboard cost-->
  <div class="left3 section-tittle-detail mb-40"> 
   <hr class="style-four">
     <h2 class="map-style-title">Freeboard Cost</h2> 
      <div class="graph-description">
        <section id="section-3">
        The expense of incorporating freeboard into new structures is surprisingly low. The construction cost of increasing elevation for your home ranges from 
        <b class="map-style">${{FreeboardCost1 | intcomma}}</b> to <b class="map-style">${{FreeboardCost4 | intcomma}}</b>.
        <!-- The optimal (maximum) freeboard cost is ${{optimal_freeboardCost |intcomma}} at freeboard height {{optimal_freeboard_freeboardCost}} ft. -->
      </section></div>  
      <div class="zc-body">     <div id="chart1" class="chart1"></div></div>
  </div>

<!--Insurance-->
  <div class="left3 section-tittle-detail mb-40"> 
   <hr class="style-four">
    <h2 class="map-style-title">Annual Insurance Premiums</h2> 
     <div class="graph-description" >
       <section id="section-4"> 
       Constructing your home with additional freeboard decreases annual insurance premiums from <b class="map-style">${{total_annual_premium0 | intcomma}}</b> to <b class="map-style">${{total_annual_premium4 | intcomma}}</b>. 
       <!--, also increases or stabilizes flood premiums savings per month ${{monthly_premium_saving0 | intcomma}} to ${{monthly_premium_saving4 | intcomma}}.--> 
       <!--The optimal (minimum) annual insurance premium is ${{optimal_total_annual_premium | intcomma}} at freeboard height {{optimal_total_annual_premium_freeboard}} ft.-->
       </section>
     </div>
     <div class="zc-body"> 
      <center>
       <div id="chart2" class="chart2"></div>
      </center> </div>
  </div>

<!--Reduction in expected flood losses-->
<div class="left3 section-tittle-detail mb-40"> 
  <hr class="style-four">
     <h2 class="map-style-title">Expected Annual Flood Loss</h2>
      <section id="sdection-5"> 
        <div class="graph-description" >
          <section id="section-5"> Adding a freeboard also reduces flood losses in flooding events from <b class="map-style">${{AAL_absCurrency0 | intcomma}}</b> to <b class="map-style">${{AAL_absCurrency4 | intcomma}}</b>. 
          <!--The optimal (minimum) expected flood loss is ${{optimal_AAL_absCurrency | intcomma}} at freeboard height {{optimal_AAL_absCurrency_freeboard}} ft.-->
          </section> 
        </div>
      <div class="zc-body">  <div id="chart3" class="chart3"></div></div>
      </section>
  </div>

<!--Recover-->
<div class="left3 section-tittle-detail mb-40"> 
  <hr class="style-four">
     <h2 class="map-style-title">Time to Recover the Freeboard Cost</h2>
      <div class="graph-description" >
        The time required to recover the cost of freeboard is surprisingly low for new construction when considering reductions in flood insurance premiums and the expected reductions in flood loss. 
        Considering <b class="map-style">ONLY</b> flood insurance premium savings, the time to recover the additional cost of construction ranges between <b class="map-style">{{time_to_recover_FC_PS1}}</b> month(s) and <b class="map-style">{{time_to_recover_FC_PS4}} month(s)</b>. 
        Considering both savings in flood insurance premiums and expected reductions in flood loss, this is decreased to between <b class="map-style">{{time_to_recover_FC_TB1}}</b> month(s) and <b class="map-style">{{time_to_recover_FC_TB4}} month(s)</b>. 
        
      </div>
      <div class="zc-body">     <div id="chart4" class="chart4"></div></div>
  </div>

<!--Overall-->
  <div class="left3 section-tittle-detail mb-40"> 
    <hr class="style-four">
     <h2 class="map-style-title">Overall Graph</h2>
      <div style="display:inline-block; margin: 0 0 0 5px;" class="zc-body">     <div id="myChart" class="chart--container1"></div></div>
  </div>

<!--Freeboard graph
<div class="left3 section-tittle-detail mb-40">
  <hr class="style-two">  
       <h2 class="map-style">Freeboard and Benefit Graph </h2><br>
      {{ div | safe }}   
           <table align = "center" class="benefitTable">
              <tr> 
                <td></td>
                <td><img src="../static/img/construction/feet0.png" style="width: 50px; height:50px;"><br><b class="map-style">BFE <br>+0 feet</b></td>
                <td><img src="../static/img/construction/feet1.png" style="width: 50px; height:50px;"><br><b class="map-style"> BFE <br>+1 feet</b></td>
                <td><img src="../static/img/construction/feet2.png" style="width: 50px; height:50px;"><br><b class="map-style">BFE <br>+2 feet</b></td>
                <td><img src="../static/img/construction/feet3.png" style="width: 50px; height:50px;"><br><b class="map-style">BFE <br>+3 feet</b></td>
                <td><img src="../static/img/construction/feet4.png" style="width: 50px; height:50px;"><br><b class="map-style">BFE <br>+4 feet</b></td>
              </tr>
              <tr> 
                <td><img src="../static/img/construction/cost.png" style="width: 30px; height:30px;"><br><b class="map-style">Elevation cost</b></td>
                <td>${{FreeboardCost0}}</td>
                <td>${{FreeboardCost1}}</td>
                <td>${{FreeboardCost2}}</td>
                <td>${{FreeboardCost3}}</td>
                <td>${{FreeboardCost4}}</td>
              </tr>
              <tr> 
                <td><img src="../static/img/construction/insurance.png" style="width: 25px; height:25px;"><br><b class="map-style">Insurance savings per month</b></td>
                <td>${{monthly_premium_saving0}}</td>
                <td>${{monthly_premium_saving1}}</td>
                <td>${{monthly_premium_saving2}}</td>
                <td>${{monthly_premium_saving3}}</td>
                <td>${{monthly_premium_saving4}}</td>
              </tr>
              <tr> 
                <td><img src="../static/img/construction/loss.png" style="width: 25px; height:25px;"><br><b class="map-style">Reduction in expected <br>flood losses per month</b></td>
                <td>${{monthly_avoided_loss0}}</td>
                <td>${{monthly_avoided_loss1}}</td>
                <td>${{monthly_avoided_loss2}}</td>
                <td>${{monthly_avoided_loss3}}</td>
                <td>${{monthly_avoided_loss4}}</td>
              </tr>
              <tr></tr>
              <tr> 
                <td><img src="../static/img/construction/time.png" style="width: 25px; height:25px;"><br><b class="map-style">Time to recover <br>the elevation cost</b></td>
              <td>{{time_to_recover_FC_MS0}}</td>
                <td>{{time_to_recover_FC_MS1}}</td>
                <td>{{time_to_recover_FC_MS2}}</td>
                <td>{{time_to_recover_FC_MS3}}</td>
                <td>{{time_to_recover_FC_MS4}}</td>
                  </tr>
              <tr> 
                <td><img src="../static/img/construction/benefit.png" style="width: 25px; height:25px;"><br><b class="map-style">Lifetime benefits of <br>the elevation</b></td>
                <td>${{netbenefit0}}</td>
                <td>${{netbenefit1}}</td>
                <td>${{netbenefit2}}</td>
                <td>${{netbenefit3}}</td>
                <td>${{netbenefit4}}</td>
              </tr>
              <tr> 
                <td><img src="../static/img/construction/benefit.png" style="width: 25px; height:25px;"><br><b class="map-style">Monthly savings</b></td>
                <td>${{total_monthly_saving0}}</td>
                <td>${{total_monthly_saving1}}</td>
                <td>${{total_monthly_saving2}}</td>
                <td>${{total_monthly_saving3}}</td>
                <td>${{total_monthly_saving4}}</td>
              </tr>
          </table>
  </div>
</div> -->

<!--Result details End-->

<!--zingchart script-->
  <script>
   /*zingchart*/
  // DEFINE CHART LOCATIONS (IDS)
  // -----------------------------
  // Main chart render location
  // var chartId = 'myChart';
  var chart1Id = 'chart1'; //Freeboard Cost
  var chart2Id = 'chart2'; //Annual Insurance Premiums
  var chart3Id = 'chart3'; //Expected Annual Flood Loss
  var chart4Id = 'chart4'; //Time to Recover the Freeboard Cost
  var chart5Id = 'chart5'; //Monthly Savings
  var chart6Id = 'chart6'; //Overall graph

  // CHART CONFIG
  // -----------------------------


  // Chart 1
  var chart1Data = {
    type: 'bar',
    title: {
      fontWeight: 'normal',
      fontColor: 'var(--black)',
      align: 'left',
      marginLeft: '2rem'
    },
    cursor: 'hand',
    globals: {
      fontColor: 'var(--fontColor)',
      fontfamily: 'Raleway'
    },
    legend: {
      borderWidth: 0,
      layout: '1',
      marker: {
        type: 'pie'
      }
    },
    scaleX: { 
      markers: [],
      labels: ['BFE -4 ft', 'BFE -3 ft', 'BFE -2 ft', 'BFE -1 ft', 'BFE +0 ft', 'BFE +1 ft', 'BFE +2 ft', 'BFE +3 ft', 'BFE +4 ft'],
      tick: {
        visible: false
      },
    crosshairX: {},
    },
    scaleY: {
    format: "$%v",
    negation: "currency",
    thousandsSeparator: ", ",
    multiplier: true
    },
    plot: {
    tooltip:{ 
      fontColor: 'var(--white)',
      text: '$%v',
      thousandsSeparator: ", ",
      backgroundColor:'var(--red)'
      },
    animation : {
      effect : 1,
      sequence : 2,
      speed : 100
    },
  },
    series: [
      {
        text: 'Freeboard cost',
        backgroundColor: 'var(--red)',
        alpha: 0.95,
        borderRadiusTopLeft: '7px',
        values: {{freeboardCost_json}}   
      }
    ]
  };

  // Chart 2
   var chart2Data = {
    type: 'bar',
    title: {
      fontWeight: 'normal',
      fontColor: 'var(--black)',
      align: 'left',
      marginLeft: '2rem'
    },
    cursor: 'hand',
    globals: {
      fontColor: 'var(--fontColor)',
      fontfamily: 'Raleway'
    },
    legend: {
      borderWidth: 0,
      layout: '1',
      marker: {
        type: 'pie'
      }
    },
    scaleX: { 
      markers: [],
      labels: ['BFE -4 ft', 'BFE -3 ft', 'BFE -2 ft', 'BFE -1 ft', 'BFE +0 ft', 'BFE +1 ft', 'BFE +2 ft', 'BFE +3 ft', 'BFE +4 ft'],
      tick: {
        visible: false
      },
    crosshairX: {},
    },
    scaleY: {
    format: "$%v",
    negation: "currency",
    thousandsSeparator: ", ",
    multiplier: true
    },
    plot: {
    tooltip:{ 
      fontColor: 'var(--white)',
      text: '$%v',
      thousandsSeparator: ", ",
      backgroundColor:'var(--blue)'
      },
    animation : {
      effect : 1,
      sequence : 2,
      speed : 100
    },
  },
    series: [
      {
        text: 'Annual insurance premiums',
        backgroundColor: 'var(--blue)',
        alpha: 0.95,
        borderRadiusTopLeft: '7px',
        values: {{total_annual_premium_json}}   
      }
    ]
  }; 
 

  // Chart 3
  let chart3Data = {
  type: 'bar',
  legend: {
    alpha: 0.05,
    borderWidth: '0px',
    layout: 'x2',
    marker: {
      type: 'circle',
      borderColor: 'none',
      size: '10px'
    },
  },
  plot: {
    animation: {
      effect: 'ANIMATION_SLIDE_BOTTOM'
    }
  },
  scaleX: {
    guide: {
      visible: false
    },
    item: {
      fontColor: '#7e7e7e'
    },
    labels: ['BFE -4 ft', 'BFE -3 ft', 'BFE -2 ft', 'BFE -1 ft', 'BFE +0 ft', 'BFE +1 ft', 'BFE +2 ft', 'BFE +3 ft', 'BFE +4 ft'],
    lineColor: '#7E7E7E'
  },
  scaleY: {
      
    format: "$%v",
    negation: "currency",
    thousandsSeparator: ", ",
    multiplier: true,
      guide: {
        lineStyle: 'solid'
      },
      minorTick: {
        placement: 'cross',
        size: '6px'
      },
      minorTicks: 1
    },
  tooltip: {
    text: '$%v'
  },
  series: [
    {
      text: 'Annual flood loss with insurance',
      values: [185537, 144022, 97204, 31222, 0, 0, 0, 0, 0],
      alpha: 0.95,
      borderRadiusTopLeft: '7px',
      backgroundColor: '#eb9d17',
    },
    {
      text: 'Annual flood loss without insurance',
      values: {{AAL_absCurrency_json}},
      borderRadiusTopLeft: '7px',
      alpha: 0.95,
      backgroundColor: '#f7e0b7',
    }
  ]
};

   // Chart 4
var chart4Data = {
  type: 'line',
  title: {
    fontWeight: 'normal',
    fontColor: 'var(--black)',
    align: 'left',
    marginLeft: '2rem'
  },
  plot: {
    tooltip: {
      visible: false
    },
    cursor: 'hand'
  },

  legend: {
    borderWidth: 0,
    layout: '1',
     width: '100%',
     x: '8%',
    marker: {
      type: 'pie'
    }
  },
  scaleX: {
    markers: [],
     labels: ['BFE -4 ft', 'BFE -3 ft', 'BFE -2 ft', 'BFE -1 ft', 'BFE +0 ft', 'BFE +1 ft', 'BFE +2 ft', 'BFE +3 ft', 'BFE +4 ft'],
  },
  crosshairX: {},
  scaleY: {
    label: {
      text: "Month(s)",
      fontWeight: 'normal'
    },
  },
  series: [
    {
      text: 'The reduction in insurance premiums ',
      values: {{time_to_recover_FC_PS_json}},
      lineColor: 'var(--orange)',
      marker : {
      type : 'circle',
      borderWidth : 1,
      borderColor : 'var(--orange)',
      size : 5,
      backgroundColor : 'var(--orange)'
      },
      hoverMarker : {
        type : 'circle',
        size : 6,
        backgroundColor : '#FFF',
        borderWidth : 1,
        borderColor : 'var(--orange)'
      },
    },
    {
      text: 'The reduction in insurance premiums and the reduction of flood losses',
      values: {{time_to_recover_FC_TB_json}},
      lineColor: '#c4c722',
      marker : {
      type : 'circle',
      borderWidth : 1,
      borderColor : '#c4c722',
      size : 5,
      backgroundColor : '#c4c722'
      },
      hoverMarker : {
        type : 'circle',
        size : 6,
        backgroundColor : '#FFF',
        borderWidth : 1,
        borderColor : '#c4c722'
      },
    }    
  ]
};

/*
* define Marker class to construct
* markers on the fly easier.
*/
function Marker(_index) {
  return {
    type: 'line',
    flat: false,
    lineColor: '#424242',
    lineWidth: '1px',
    range: [_index]
  }
}

/*
* define Label class to construct
* labels on the fly easier.
*/
function Label(_text, _id, _offsetX, _offsetY) {
  return {
    id: _id,
    text: _text,
    angle: 0,
    padding: '5px 10px 5px 10px',
    backgroundColor: '#eeeeee',
    cursor: 'pointer',
    flat: false,
    fontSize: '13px',
    fontStyle: 'bold',
    offsetX: _offsetX,
    offsetY: _offsetY ? _offsetY : 0,
    textAlign: 'right',
    wrapText: true
  }
}

// format the label text
let formatLabelText = (_nodeindex, _scaleText) => {
  let plotInfo = null;
  let nodeInfo;
  let seriesText = '';
  let labelString = isNaN(_scaleText) ? _scaleText + '<br>' : '';
  let color = '';
  let plotLength = zingchart.exec('chart4Data', 'getplotlength', {
    graphid: 0
  });

  for (let i = 0; i < plotLength; i++) {
    plotInfo = zingchart.exec('chart4Data', 'getobjectinfo', {
      object: 'plot',
      plotindex: i
    });
    nodeInfo = zingchart.exec('chart4Data', 'getobjectinfo', {
      object: 'node',
      plotindex: i,
      nodeindex: _nodeindex
    });
    color = plotInfo.lineColor ? plotInfo.lineColor : plotInfo.backgroundColor1;
    seriesText = plotInfo.text ? plotInfo.text : ('Series ' + (i + 1));
    labelString += '<span style="color:' + color + '">' + seriesText + ':</span>' +
      ' ' + nodeInfo.value + '<br>';
  }

  return labelString;
};

// global array for markers since you can only update the whole array
let markersArray = [];
let labelsArray = [];

// hash table for markers
let markerHashTable = {};

/*
* Register a graph click event and then render a chart with the markers
*/
zingchart.bind('chart4Data', 'click', (e) => {
  let xyInformation;
  let nodeIndex;
  let scaleText;

  // make sure not a node click and click happend in plotarea
  if (e.target != 'node' && e.plotarea) {
    xyInformation = zingchart.exec('chart4Data', 'getxyinfo', {
      x: e.ev.clientX,
      y: e.ev.clientY
    });

    // if anything is found, 0 corresponds to scale-x
    if (xyInformation && xyInformation[0] && xyInformation[2]) {
      nodeIndex = xyInformation[0].scalepos;
      scaleText = xyInformation[0].scaletext;

      // check hash table. Add marker
      if (!markerHashTable['nodeindex' + nodeIndex]) {
        let nodeInfo = zingchart.exec('chart4Data', 'getobjectinfo', {
          object: 'node',
          nodeindex: nodeIndex,
          plotindex: 0
        });

        let labelText = formatLabelText(nodeIndex, scaleText);
        let labelId = 'label_' + nodeIndex;
        // create a marker
        let newMarker = new Marker(nodeIndex);
        let newLabel = new Label(labelText, labelId, nodeInfo.x, nodeInfo.y);

        markerHashTable['nodeindex' + nodeIndex] = true;
        markersArray.push(newMarker);

        labelsArray.push(newLabel);

        // render the marker
        chart4Data.scaleX.markers = markersArray;
        chart4Data.labels = labelsArray;
        zingchart.exec('chart4Data', 'setdata', {
          data: chart4Data
        });
      } else {
        console.log('---marker already exists----');
      }
    }
  }
});

/*
* Register a node_click event and then render a chart with the markers
*/
zingchart.bind('chart4Data', 'node_click', (e) => {
  // check hash table. Add marker
  if (!markerHashTable['nodeindex' + e.nodeindex]) {
    let labelText = formatLabelText(e.nodeindex, e.scaletext);
    let labelId = 'label_' + e.nodeindex;
    // create a marker
    let newMarker = new Marker(e.nodeindex, labelText, e.plotindex);
    let newLabel = new Label(labelText, labelId, e.ev.layerX, e.ev.layerY);

    markerHashTable['nodeindex' + e.nodeindex] = true;
    markersArray.push(newMarker);

    labelsArray.push(newLabel);

    // render the marker
    chart4Data.scaleX.markers = markersArray;
    chart4Data.labels = labelsArray;
    zingchart.exec('chart4Data', 'setdata', {
      data: chart4Data
    });
  } else {
    console.log('---marker already exists----');
  }
});

let labelMouseDown = false;
let labelId = null;

/*
* bind mousedown event for dragging label
*/
zingchart.bind('chart4Data', 'label_mousedown', (e) => {
  labelMouseDown = true;
  labelId = e.labelid;
  zingchart.exec('chart4Data', 'hideguide');
});

zingchart.bind('chart4Data', 'mousemove', (e) => {
  if (labelMouseDown && labelId) {
    zingchart.exec('chart4Data', 'updateobject', {
      type: 'label',
      data: {
        id: labelId,
        offsetY: e.ev.layerY
      }
    });
  }
});

zingchart.bind('chart4Data', 'mouseup', () => {
  labelMouseDown = false;
  labelId = null;
  zingchart.exec('chart4Data', 'showguide');
});

zingchart.bind('chart4Data', 'doubleclick', (e) => {
  console.log(e);
});




  // Chart 5: Mnothyl savings
    let chart5Data = {
    type: 'bar',
    legend: {
      alpha: 0.05,
      borderWidth: '0px',
      layout: 'x2',
      marker: {
        type: 'circle',
        borderColor: 'none',
        size: '10px'
      },
    },
    plot: {
      animation: {
        effect: 'ANIMATION_SLIDE_BOTTOM'
      }
    },
    scaleX: {
      guide: {
        visible: false
      },
      item: {
        fontColor: '#7e7e7e'
      },
      labels: ['BFE -4 ft', 'BFE -3 ft', 'BFE -2 ft', 'BFE -1 ft', 'BFE +0 ft', 'BFE +1 ft', 'BFE +2 ft', 'BFE +3 ft', 'BFE +4 ft'],
      lineColor: '#7E7E7E'
    },
    scaleY: {
        
      format: "$%v",
      negation: "currency",
      thousandsSeparator: ", ",
      multiplier: true,
        guide: {
          lineStyle: 'solid'
        },
        minorTick: {
          placement: 'cross',
          size: '6px'
        },
        minorTicks: 1
      },
    tooltip: {
      text: '$%v'
    },
    series: [
      {
        text: 'Monthly savings with insurance',
        values: {{total_monthly_saving_json}},
        alpha: 0.95,
        borderRadiusTopLeft: '7px',
        backgroundColor: '#189447',
      },
      {
        text: 'Monthly savings without insurance',
        values: [988, 4412, 8280, 13743, 16733, 17088, 17074, 17041, 17006],
        borderRadiusTopLeft: '7px',
        alpha: 0.95,
        backgroundColor: '#add9be'
      }
    ]
  };

  zingchart.render({
    id: 'chart5Id',
    data: chart5Data,
    height: '100%', 
    width: '100%',
  });


  // Chart 6
  // DEFINE DATA
  // -----------------------------
 let chartData = [
    {
      type: 'line', 
      text: 'Monthly savings with insurance',
      values: {{ total_monthly_saving_json}},
      scales: 'scale-x,scale-y',
      lineColor: '#189447',
      legendMarker: {
        type: 'circle'
      },
      tooltip: {
        text: '$%v',
        negation: "currency",
        thousandsSeparator: ", ",
        wrapText: true
      },
      marker: {
        backgroundColor: '#189447'
      }
    },    {
      type: 'line', 
      text: 'Monthly savings without insurance',
      values: [988, 4412, 8280, 13743, 16733, 17088, 17074, 17041, 17006],
      scales: 'scale-x,scale-y',
      lineColor: '#add9be',
      legendMarker: {
        type: 'circle'
      },
      tooltip: {
        text: '$%v',
        negation: "currency",
        thousandsSeparator: ", ",
        wrapText: true
      },
      marker: {
        backgroundColor: '#add9be'
      }
    },
    {
      type: 'bar',
      text: 'Amortized cost',
      values: {{Amortized_FC_json}},
      scales: 'scale-x,scale-y',
      backgroundColor: '#ff614f',
      borderRadiusTopLeft: '7px',
      alpha: 0.90,
      tooltip: {
        text: '$%v',
        negation: "currency",
        thousandsSeparator: ", ",
        wrapText: true
      }
    },
    {
      type: 'bar',
      text: 'Insurance savings per month',
      values: {{monthly_premium_saving_json}},
      scales: 'scale-x,scale-y',
      backgroundColor: '#07d9a4',
      borderRadiusTopLeft: '7px',
      alpha: 0.90,
      tooltip: {
        text: '$%v',
        negation: "currency",
        thousandsSeparator: ", ",
        wrapText: true
      }
    },
    {
      type: 'bar', 
      text: 'Reduction in expected flood loss per month',
      values: {{monthly_avoided_loss_json}},
      scales: 'scale-x,scale-y',
      backgroundColor: '#2480bf',
      borderRadiusTopLeft: '7px',
      alpha: 0.90,
      tooltip: {
        text: '$%v',
        negation: "currency",
        thousandsSeparator: ", ",
        wrapText: true
      }
    }

  ];

let chartConfig = {
    type: 'mixed',
    legend:{
     layout: '2x3' ,
     margin: '10 0 10 0',
     x: '38%',
     borderColor: 'whtie'
    },
    scaleX: {
      values: ['BFE -4 ft', 'BFE -3 ft', 'BFE -2 ft', 'BFE -1 ft', 'BFE +0 ft', 'BFE +1 ft', 'BFE +2 ft', 'BFE +3 ft', 'BFE +4 ft'],
      guide: {
        lineColor: '#BDBDBD',
        lineStyle: 'solid'
      },
      label: {
        text: 'BFE + Freeboard (ft)'
      },
    },
    scaleY: {  
    format: "$%v",
    negation: "currency",
    thousandsSeparator: ", ",
    multiplier: true,
      guide: {
        lineStyle: 'solid'
      },
      minorTick: {
        placement: 'cross',
        size: '6px'
      },
      minorTicks: 1
    },
    {% comment %} 
    scaleY2: {
    format: '%v',    
    negation: "currency",
    guide: {
      visible: false
    },
    label: {
      text: 'Y-2 label'
    },
    zooming: true
  }, 
  {% endcomment %}
    crosshairX: {
      plotLabel: {
        visible: false
      }
    },
    series: chartData
  };


  // CHART CONFIG
  // ----------------------------- commented out
  {% comment %} let chartConfig = {
    type: 'hbullet',
    backgroundColor: '#f4f4f4',
    legend: {
      marginBottom: '-20%',
      backgroundColor: 'none',
      borderWidth: '0px',
      item: {
        cursor: 'hand',
        fontColor: '#307C70',
        fontFamily: 'arial',
        fontSize: '12px',
        fontWeight: 'normal',
        shadow: false
      },
      layout: 'float',
      marker: {
        cursor: 'hand'
      },
      position: '50% 12%',
      toggleAction: 'remove'
    },
    plot: {
      alpha: 1,
      backgroundColor: '#000000',
      barSpace: '50%',
      tooltipText: 'Value: %v',
      animation: {
        effect: 'ANIMATION_EXPAND_BOTTOM',
        method: 'ANIMATION_LINEAR',
        sequence: 'null'
      }
    },
    plotarea: {
      margin: '22% 5% 15% 10%',
      backgroundColor: '#ffffff'
    },
    scaleX: {
      values: ['BFE +0 ft', 'BFE +1 ft', 'BFE +2 ft', 'BFE +3 ft', 'BFE +4 ft'],
      guide: {
        alpha: 0.5,
        lineColor: '#434F5B',
        lineStyle: 'solid'
      },
      item: {
        fontColor: '#434F5B',
        fontFamily: 'arial',
        fontSize: '12px',
        fontWeight: 'normal',
        offsetX: '-5%'
      },
      lineColor: '#434F5B',
      lineStyle: 'solid',
      lineWidth: '1px',
      tick: {
        lineColor: '#434F5B',
        lineWidth: '1px'
      }
    },
    scaleY: {
      format: '%v',
      guide: {
        alpha: 0.25,
        lineColor: '#434F5B',
        lineStyle: 'solid'
      },
      item: {
        fontColor: '#434F5B',
        fontFamily: 'arial',
        fontSize: '12px',
        fontWeight: 'normal',
        offsetY: '5%'
      },
      lineColor: '#434F5B',
      lineStyle: 'solid',
      lineWidth: '1px',
      tick: {
        lineColor: '#434F5B',
        lineWidth: '1px'
      }
    },
    series: chartData
  }; {% endcomment %}

  // RENDER CHARTS
  // -----------------------------

  // Chart 1
  zingchart.render({ 
    id: chart1Id, 
    data : chart1Data, 
    width: '100%'
  });

  // Chart 2
  zingchart.render({ 
    id: chart2Id, 
    data : chart2Data, 
    width: '100%'
  });

  // Chart 3
  zingchart.render({ 
    id: chart3Id, 
    data : chart3Data, 
    width: '100%'
  });

  // Chart 4
  zingchart.render({ 
    id: chart4Id, 
    data : chart4Data, 
    width: '100%'
  });

  // Chart 5
  zingchart.render({ 
    id: chart5Id, 
    data : chart5Data, 
    width: '100%'
  });

  // Chart 6
  zingchart.render({
    id: 'myChart',
    data: chartConfig,
    width: '100%',
    height:'80%'
  });

  var ctx = document.getElementById('chart').getContext('2d');

  var chart = (ctx, {
            type: 'line',
            data: {
                labels: ['+0ft freeboard','+`0`ft freeboard'],
                datasets: [{
                    label: 'My First dataset',
                    backgroundColor: '#33b5e5',
                    borderColor: '#33b5e5',
                    data: [15,10]   
                }]
            },
            options: {
              responsive:true,
              legend:{
                display:false,
              },
              title: {
                display:false,
                text:'Text',
              },
              
              scales: {
                xAxes: [{
                  display: true
                }],
                yAxes: [{
                  display: true,
                  scaleLabel: {
                    display: true,
                    labelString: 'dollar',
                  },
                  ticks: {
                    min: 0,
                    stepSize: 10
                  }
                }]
              }
            }
    }); 

    </script>

    <!-- Scroll Up -->
    <div id="back-top" >
        <a title="Go to Top" href="#"> <i class="fas fa-level-up-alt"></i></a>
    </div>
      <script src = "https://code.highcharts.com/highcharts.js"></script>
    <script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-2.2.1.min.js"></script>
    <script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-widgets-2.2.1.min.js"></script>
    <script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-tables-2.2.1.min.js"></script>
    <script type="text/javascript" src="https://cdn.pydata.org/bokeh/release/bokeh-api-2.2.1.min.js"></script> 
    <!-- {{script_insurance | safe}}-->
    <script src="./static/js/disclaimer.js"></script>
    <!-- Jquery-->
    <script src="./static/js/vendor/jquery-1.12.4.min.js"></script>

    
    <!-- Jquery Mobile Menu -->

    <!--save as pdf js
    <script src="./static/js/jquery.slicknav.min.js"></script>
    <script type = "text/javascript" src = "https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script>
    <script type = "text/javascript" src = "https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script type = "text/javascript" src = "http://code.jquery.com/jquery-latest.min.js"></script>
-->

    <!-- Accessibility Code for "floodsafehome.lsu.edu" -->
    <script> 
        window.interdeal = { 
            "sitekey": "e8d3d174e189523ecbfdacfddd4c53b8", 
            "Position": "Left", 
            "Menulang": "EN", 
            "domains": { "js": "https://cdn.equalweb.com/", 
            "acc": "https://access.equalweb.com/" }, 
            "btnStyle": { "vPosition": [ "80%", null ], 
            "scale": [ "0.5", "0.5" ], 
            "icon": { "type": 7, 
            "shape": "semicircle", "outline": false }, 
            "color": { "main": "#1876c9", "second": "" } 
            } }; 
            
        (function(doc, head, body) { 
            var coreCall = doc.createElement('script'); 
            coreCall.src = 'https://cdn.equalweb.com/core/2.1.10/accessibility.js'; 
            coreCall.defer = true; 
            coreCall.integrity = 'sha512-PWvjZ/e9EGeHEPppEOqscViKxQIW1/5rJeFedXLJiv0IrltJPvuhrYOiUsOkQ49FaZ5HSDp51/O/6V9uL2nNIA=='; 
            coreCall.crossOrigin = 'anonymous'; coreCall.setAttribute('data-cfasync', true ); 
            body? body.appendChild(coreCall) : head.appendChild(coreCall); })
        (document, document.head, document.body); 
    </script>
    <!-- Accessibility Code for "floodsafehome.lsu.edu" end-->
    
</body>
</html>



